{% extends "base.html" %}
{% block content %}
<h2>Contact Us</h2>
<form id="contactForm">
  <div class="mb-3">
    <label>Name</label>
    <input type="text" name="name" class="form-control" required>
  </div>
  <div class="mb-3">
    <label>Email</label>
    <input type="email" name="email" class="form-control" required>
  </div>
  <div class="mb-3">
    <label>Message</label>
    <textarea name="message" class="form-control" required></textarea>
  </div>
  <button type="submit" class="btn btn-primary">Send</button>
</form>

<div id="result" class="mt-3"></div>

<script>
document.getElementById('contactForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const form = e.target;
  const data = new FormData(form);
  const res = await fetch(form.action || window.location.href, {
    method: 'POST',
    body: data
  });
  const result = await res.json();
  document.getElementById('result').innerText = result.message;
  form.reset();
});
</script>
{% endblock %}
